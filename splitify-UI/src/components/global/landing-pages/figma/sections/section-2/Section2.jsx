import Layout from "../../builders/Layout";
import CtaBtn from "../../builders/CtaBtn";
import Chart from "../../../../../../assets/landing-page/chart.svg?react";
import bankConnectionDemo from './bank-connection-demo.png'

import { useEffect, useRef } from "react";
export default function Section2() {
  return (
    <section
      className={`flex items-center
                bg-[#ACC8D2]`}
    >
      <Layout>
        <div
          className={`
          col-span-12 sm:col-span-6 
          col-start-1 my-auto`}
        >
          <h2
            className={`
            text-center sm:text-left
            mb-[20px]`}
          >
            Bills can change. 
            <br className=""/>
             Splitify adapts.
          </h2>
          <p
            className={`
              sm:w-5/6
              text-center sm:text-left

            `}
          >
            Connect your bank account so Splitify can track costs that change between billing cycles. Perfect for utilites.
          </p>
          <CtaBtn text="Track My Bills" className={`
            mx-auto sm:mx-0
            `} />
        </div>
        <div
          className={`
        col-start-1 sm:col-start-9 
        col-span-12 sm:col-span-4
        w-11/12 sm:w-full
        mx-auto sm:mx-0 
        mt-20 sm:mt-0
          items-center`}
        >
          <img src={bankConnectionDemo} alt="bank connection demo"/>
          {/* <PriceChart /> */}
        </div>
      </Layout>
    </section>
  );
}

function PriceChart() {
  const ref = useRef(null);

  useEffect(() => {
    const el = ref.current;
    if (!el) return;

    // ensure clean start
    el.removeAttribute("data-anim");

    const io = new IntersectionObserver(
      ([entry]) => {
        if (entry.isIntersecting) {
          // now we know the SVG is inside the central 1/3 band
          el.setAttribute("data-anim", "on");
          io.unobserve(el); // fire once; remove this line if you want it to reset
        }
      },
      {
        root: null,
        threshold: 0, // any overlap with the shrunken root counts
        rootMargin: "-33% 0px -33% 0px", // only the middle third of the viewport is considered "visible"
      }
    );

    io.observe(el);
    return () => io.disconnect();
  }, []);

  return (
    <svg
      ref={ref}
      className="w-full h-auto group"
      width="418"
      height="337"
      viewBox="0 0 418 337"
      fill="none"
      xmlns="http://www.w3.org/2000/svg"
    >
      <path
        d="M3.00001 3L2.99999 333"
        stroke="#316274"
        stroke-width="6"
        stroke-linecap="round"
      />
      <path
        d="M48 297L118.224 201.172C118.525 200.762 119.084 200.643 119.525 200.894L177.639 233.962C178.059 234.201 178.591 234.105 178.901 233.733L265.057 130.523C265.321 130.207 265.75 130.085 266.14 130.215L349.317 157.824C349.726 157.959 350.176 157.818 350.434 157.473L369 132.609"
        stroke="#316274"
        stroke-width="8"
        stroke-linecap="round"
        className="will-change-transform transition-transform duration-[1200ms] ease-out translate-y-10 group-data-[anim=on]:translate-y-0"
      />
      <path
        d="M4 334L395 334"
        stroke="#316274"
        stroke-width="6"
        stroke-linecap="round"
      />
      <rect
        x="319"
        y="35"
        width="99"
        height="51"
        rx="12"
        fill="#316274"
        className="will-change-transform transition-transform duration-[1200ms] ease-out translate-y-10 group-data-[anim=on]:translate-y-0"
      />
      <path
        d="M368.5 104L352.479 76.25H384.521L368.5 104Z"
        fill="#316274"
        className="will-change-transform transition-transform duration-[1200ms] ease-out translate-y-10 group-data-[anim=on]:translate-y-0"
      />
      <path
        d="M337.215 51.2305V54.6875H335.387V51.2305H337.215ZM336.992 70.3672V73.5195H335.164V70.3672H336.992ZM338.281 66.5234C338.281 66.0781 338.199 65.6992 338.035 65.3867C337.879 65.0742 337.621 64.7969 337.262 64.5547C336.91 64.3125 336.434 64.0781 335.832 63.8516C334.816 63.4609 333.922 63.0469 333.148 62.6094C332.383 62.1641 331.785 61.6133 331.355 60.957C330.926 60.293 330.711 59.4531 330.711 58.4375C330.711 57.4688 330.941 56.6289 331.402 55.918C331.863 55.207 332.5 54.6602 333.312 54.2773C334.133 53.8867 335.086 53.6914 336.172 53.6914C337 53.6914 337.75 53.8164 338.422 54.0664C339.094 54.3086 339.672 54.668 340.156 55.1445C340.641 55.6133 341.012 56.1875 341.27 56.8672C341.527 57.5469 341.656 58.3242 341.656 59.1992H338.293C338.293 58.7305 338.242 58.3164 338.141 57.957C338.039 57.5977 337.891 57.2969 337.695 57.0547C337.508 56.8125 337.281 56.6328 337.016 56.5156C336.75 56.3906 336.457 56.3281 336.137 56.3281C335.66 56.3281 335.27 56.4219 334.965 56.6094C334.66 56.7969 334.438 57.0508 334.297 57.3711C334.164 57.6836 334.098 58.043 334.098 58.4492C334.098 58.8477 334.168 59.1953 334.309 59.4922C334.457 59.7891 334.711 60.0625 335.07 60.3125C335.43 60.5547 335.922 60.8047 336.547 61.0625C337.562 61.4531 338.453 61.875 339.219 62.3281C339.984 62.7812 340.582 63.3359 341.012 63.9922C341.441 64.6484 341.656 65.4844 341.656 66.5C341.656 67.5078 341.422 68.3672 340.953 69.0781C340.484 69.7812 339.828 70.3203 338.984 70.6953C338.141 71.0625 337.164 71.2461 336.055 71.2461C335.336 71.2461 334.621 71.1523 333.91 70.9648C333.199 70.7695 332.555 70.457 331.977 70.0273C331.398 69.5977 330.938 69.0273 330.594 68.3164C330.25 67.5977 330.078 66.7148 330.078 65.668H333.453C333.453 66.2383 333.527 66.7148 333.676 67.0977C333.824 67.4727 334.02 67.7734 334.262 68C334.512 68.2188 334.793 68.375 335.105 68.4688C335.418 68.5625 335.734 68.6094 336.055 68.6094C336.555 68.6094 336.965 68.5195 337.285 68.3398C337.613 68.1602 337.859 67.9141 338.023 67.6016C338.195 67.2812 338.281 66.9219 338.281 66.5234ZM355.449 66.3242C355.449 67.3945 355.199 68.2969 354.699 69.0312C354.199 69.7578 353.512 70.3086 352.637 70.6836C351.77 71.0508 350.785 71.2344 349.684 71.2344C348.582 71.2344 347.594 71.0508 346.719 70.6836C345.844 70.3086 345.152 69.7578 344.645 69.0312C344.137 68.2969 343.883 67.3945 343.883 66.3242C343.883 65.6055 344.027 64.957 344.316 64.3789C344.605 63.793 345.008 63.293 345.523 62.8789C346.047 62.457 346.66 62.1367 347.363 61.918C348.066 61.6914 348.832 61.5781 349.66 61.5781C350.77 61.5781 351.762 61.7734 352.637 62.1641C353.512 62.5547 354.199 63.1055 354.699 63.8164C355.199 64.5273 355.449 65.3633 355.449 66.3242ZM352.051 66.1016C352.051 65.5781 351.949 65.1289 351.746 64.7539C351.551 64.3711 351.273 64.0781 350.914 63.875C350.555 63.6719 350.137 63.5703 349.66 63.5703C349.184 63.5703 348.766 63.6719 348.406 63.875C348.047 64.0781 347.766 64.3711 347.562 64.7539C347.367 65.1289 347.27 65.5781 347.27 66.1016C347.27 66.6172 347.367 67.0625 347.562 67.4375C347.766 67.8125 348.047 68.1016 348.406 68.3047C348.773 68.5 349.199 68.5977 349.684 68.5977C350.168 68.5977 350.586 68.5 350.938 68.3047C351.297 68.1016 351.57 67.8125 351.758 67.4375C351.953 67.0625 352.051 66.6172 352.051 66.1016ZM355.086 58.4609C355.086 59.3281 354.855 60.0977 354.395 60.7695C353.934 61.4336 353.293 61.9531 352.473 62.3281C351.66 62.7031 350.73 62.8906 349.684 62.8906C348.629 62.8906 347.691 62.7031 346.871 62.3281C346.051 61.9531 345.41 61.4336 344.949 60.7695C344.488 60.0977 344.258 59.3281 344.258 58.4609C344.258 57.4297 344.488 56.5625 344.949 55.8594C345.418 55.1484 346.059 54.6094 346.871 54.2422C347.691 53.875 348.621 53.6914 349.66 53.6914C350.715 53.6914 351.648 53.875 352.461 54.2422C353.281 54.6094 353.922 55.1484 354.383 55.8594C354.852 56.5625 355.086 57.4297 355.086 58.4609ZM351.711 58.6133C351.711 58.1523 351.629 57.7539 351.465 57.418C351.301 57.0742 351.066 56.8086 350.762 56.6211C350.465 56.4336 350.098 56.3398 349.66 56.3398C349.238 56.3398 348.875 56.4297 348.57 56.6094C348.273 56.7891 348.043 57.0508 347.879 57.3945C347.723 57.7305 347.645 58.1367 347.645 58.6133C347.645 59.0742 347.723 59.4805 347.879 59.832C348.043 60.1758 348.277 60.4453 348.582 60.6406C348.887 60.8359 349.254 60.9336 349.684 60.9336C350.113 60.9336 350.477 60.8359 350.773 60.6406C351.078 60.4453 351.309 60.1758 351.465 59.832C351.629 59.4805 351.711 59.0742 351.711 58.6133ZM366.441 53.7617H366.934V56.457H366.734C365.844 56.457 365.051 56.5898 364.355 56.8555C363.66 57.1211 363.07 57.5 362.586 57.9922C362.109 58.4766 361.742 59.0625 361.484 59.75C361.234 60.4375 361.109 61.207 361.109 62.0586V64.8945C361.109 65.5039 361.168 66.043 361.285 66.5117C361.41 66.9727 361.586 67.3594 361.812 67.6719C362.047 67.9766 362.32 68.207 362.633 68.3633C362.945 68.5117 363.297 68.5859 363.688 68.5859C364.055 68.5859 364.387 68.5078 364.684 68.3516C364.988 68.1953 365.246 67.9766 365.457 67.6953C365.676 67.4062 365.84 67.0703 365.949 66.6875C366.066 66.2969 366.125 65.8711 366.125 65.4102C366.125 64.9492 366.066 64.5234 365.949 64.1328C365.84 63.7422 365.676 63.4062 365.457 63.125C365.238 62.8359 364.973 62.6133 364.66 62.457C364.348 62.3008 363.996 62.2227 363.605 62.2227C363.074 62.2227 362.605 62.3477 362.199 62.5977C361.801 62.8398 361.488 63.1523 361.262 63.5352C361.035 63.918 360.914 64.3203 360.898 64.7422L359.879 64.0859C359.902 63.4844 360.027 62.9141 360.254 62.375C360.488 61.8359 360.809 61.3594 361.215 60.9453C361.629 60.5234 362.125 60.1953 362.703 59.9609C363.281 59.7188 363.934 59.5977 364.66 59.5977C365.457 59.5977 366.156 59.75 366.758 60.0547C367.367 60.3594 367.875 60.7773 368.281 61.3086C368.688 61.8398 368.992 62.4531 369.195 63.1484C369.398 63.8438 369.5 64.5859 369.5 65.375C369.5 66.2031 369.363 66.9727 369.09 67.6836C368.824 68.3945 368.438 69.0156 367.93 69.5469C367.43 70.0781 366.828 70.4922 366.125 70.7891C365.422 71.0859 364.633 71.2344 363.758 71.2344C362.852 71.2344 362.027 71.0703 361.285 70.7422C360.551 70.4062 359.918 69.9375 359.387 69.3359C358.855 68.7344 358.445 68.0195 358.156 67.1914C357.875 66.3633 357.734 65.457 357.734 64.4727V63.1602C357.734 61.7852 357.934 60.5273 358.332 59.3867C358.738 58.2383 359.32 57.2461 360.078 56.4102C360.836 55.5664 361.75 54.9141 362.82 54.4531C363.891 53.9922 365.098 53.7617 366.441 53.7617ZM371.82 69.3711C371.82 68.8711 371.992 68.4531 372.336 68.1172C372.688 67.7812 373.152 67.6133 373.73 67.6133C374.309 67.6133 374.77 67.7812 375.113 68.1172C375.465 68.4531 375.641 68.8711 375.641 69.3711C375.641 69.8711 375.465 70.2891 375.113 70.625C374.77 70.9609 374.309 71.1289 373.73 71.1289C373.152 71.1289 372.688 70.9609 372.336 70.625C371.992 70.2891 371.82 69.8711 371.82 69.3711ZM381.934 61.0039H383.738C384.316 61.0039 384.793 60.9062 385.168 60.7109C385.543 60.5078 385.82 60.2266 386 59.8672C386.188 59.5 386.281 59.0742 386.281 58.5898C386.281 58.1523 386.195 57.7656 386.023 57.4297C385.859 57.0859 385.605 56.8203 385.262 56.6328C384.918 56.4375 384.484 56.3398 383.961 56.3398C383.547 56.3398 383.164 56.4219 382.812 56.5859C382.461 56.75 382.18 56.9805 381.969 57.2773C381.758 57.5742 381.652 57.9336 381.652 58.3555H378.266C378.266 57.418 378.516 56.6016 379.016 55.9062C379.523 55.2109 380.203 54.668 381.055 54.2773C381.906 53.8867 382.844 53.6914 383.867 53.6914C385.023 53.6914 386.035 53.8789 386.902 54.2539C387.77 54.6211 388.445 55.1641 388.93 55.8828C389.414 56.6016 389.656 57.4922 389.656 58.5547C389.656 59.0938 389.531 59.6172 389.281 60.125C389.031 60.625 388.672 61.0781 388.203 61.4844C387.742 61.8828 387.18 62.2031 386.516 62.4453C385.852 62.6797 385.105 62.7969 384.277 62.7969H381.934V61.0039ZM381.934 63.5703V61.8242H384.277C385.207 61.8242 386.023 61.9297 386.727 62.1406C387.43 62.3516 388.02 62.6562 388.496 63.0547C388.973 63.4453 389.332 63.9102 389.574 64.4492C389.816 64.9805 389.938 65.5703 389.938 66.2188C389.938 67.0156 389.785 67.7266 389.48 68.3516C389.176 68.9688 388.746 69.4922 388.191 69.9219C387.645 70.3516 387.004 70.6797 386.27 70.9062C385.535 71.125 384.734 71.2344 383.867 71.2344C383.148 71.2344 382.441 71.1367 381.746 70.9414C381.059 70.7383 380.434 70.4375 379.871 70.0391C379.316 69.6328 378.871 69.125 378.535 68.5156C378.207 67.8984 378.043 67.168 378.043 66.3242H381.43C381.43 66.7617 381.539 67.1523 381.758 67.4961C381.977 67.8398 382.277 68.1094 382.66 68.3047C383.051 68.5 383.484 68.5977 383.961 68.5977C384.5 68.5977 384.961 68.5 385.344 68.3047C385.734 68.1016 386.031 67.8203 386.234 67.4609C386.445 67.0938 386.551 66.668 386.551 66.1836C386.551 65.5586 386.438 65.0586 386.211 64.6836C385.984 64.3008 385.66 64.0195 385.238 63.8398C384.816 63.6602 384.316 63.5703 383.738 63.5703H381.934ZM404.211 64.625V67.2734H391.918L391.754 65.2227L398.867 53.9375H401.551L398.645 58.8008L395.105 64.625H404.211ZM402.277 53.9375V71H398.902V53.9375H402.277Z"
        fill="white"
        className="pointer-events-none select-none will-change-transform transition-transform duration-[1200ms] ease-out translate-y-10 group-data-[anim=on]:translate-y-0"
      />
    </svg>
  );
}
